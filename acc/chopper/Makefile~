CC = gcc -g -Wall
BINDIR=../bin
BIN = $(BINDIR)/chopperControl
LFLAGS = -L$(COMMONLIB)
LIB = -llynx  -mthreads 
INC = -I$(COMMONINC)
INC232= -I$(ACCAPP)/iPOctal232/includeFiles
OBJ = chopperControl.o $(COMMONLIB)/rm.o 
SOURCES=  chopperControl.c 232talk.c

all: $(BINDIR)/chopperControl $(BINDIR)/232talk

$(BINDIR)/chopperControl: chopperControl.o 
	$(CC) -o $(BINDIR)/chopperControl chopperControl.o $(COMMONLIB)/rm.o \
	$(COMMONLIB)/commonLib $(LIB) ${LFLAGS}

chopperControl.o: chopperControl.c
	$(CC) -c chopperControl.c $(INC) $(INC232)

$(BINDIR)/232talk: 232talk.o
	$(CC) -o $(BINDIR)/232talk 232talk.o $(LIB)

232talk.o: 232talk.c
	$(CC) -c 232talk.c $(INC232)

depend: $(SOURCES) Makefile
	$(CC) $(INC) $(INC232) -MM $(SOURCES) > depend

include depend
